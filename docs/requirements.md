# Требования (v5) к калькулятору зарплаты учителя-логопеда (дефектолога) ГБОУ Школа № 1400

Документ описывает бизнес-требования к веб-калькулятору расчёта заработной платы учителя-логопеда (дефектолога) ГБОУ Школа № 1400.  
Цель — показать пользователю, **из чего складывается его зарплата**, и дать возможность сравнить:

- фактические суммы (по трудовому договору / тарификационному списку);
- расчётные суммы, посчитанные по формуле из локальных актов школы (формула 3.9 — «ученико-час»).

---

## 1. Цели продукта

- Позволить учителю-логопеду быстро оценить **ежемесячную зарплату** с разбивкой:
  - базовый оклад по должности логопеда;
  - оклад за учебную нагрузку (например, 12 ч/нед в 6-р классе) как «учитель» по формуле с ученико-часом;
  - компенсационные выплаты (в том числе за работу с ОВЗ);
  - стимулирующие выплаты;
  - разовые (дополнительные) замены сверх тарифицированной нагрузки.
- Дать возможность моделировать разные сценарии:
  - изменение доли ставки логопеда;
  - изменение учебной нагрузки как учителя (часы/неделю, коэффициенты);
  - изменение процента доплаты за ОВЗ;
  - наличие/отсутствие разовых замен;
  - наличие/размер стимулирующих выплат.
- Сделать прозрачной связь результата с нормативными параметрами:
  - стоимость ученико-часа;
  - коэффициенты (деление на группы, повышающие коэффициенты);
  - ставки за замены по приказу школы;
  - проценты доплат за ОВЗ.

---

## 2. Роли пользователей

- **Учитель-логопед / учитель** — основной пользователь, вводит параметры своей нагрузки и известных выплат, получает расчёт.
- **Экономист/бухгалтер школы** — может настраивать значения по умолчанию (стоимость ученико-часа, коэффициенты, проценты доплат, ставка за разовые замены).
- **Администратор системы** — отвечает за развёртывание, обновление версии калькулятора и права доступа.

---

## 3. Структура интерфейса

Рекомендуется mobile-first интерфейс с блоками:

1. **Шапка**
   - Название калькулятора.
   - Краткое пояснение: результаты ориентировочные, зависят от введённых пользователем данных.
   - Перечень ключевых нормативных документов (без загрузки самих PDF).

2. **Блок «Основной оклад логопеда»**
   - Ввод доли ставки и оклада за 1 ставку.
   - Отдельно подсвечивается результат `Base_logoped`.

3. **Блок «Учебная нагрузка как учитель»**
   - Ввод состава класса (a1, a2, a3).
   - Ввод строк нагрузки (предмет, часы в неделю, коэффициенты).
   - Отдельный вывод оклада «по договору» (`O_teacher_contract`) и «по формуле» (`O_teacher_calc`) с разницей.

4. **Блок «Разовые (дополнительные) замены»**
   - Включение/отключение.
   - Часы разовых замен, режим расчёта ставки (по приказу / по ученико-часу), ставка/численность/тип класса.
   - Вывод суммы `Subst_extra`.

5. **Блок «Компенсационные выплаты»**
   - Процент доплаты за работу с ОВЗ.
   - Выбор базы для расчёта (только логопедический оклад / логопедический + учительский).
   - Прочие компенсации.

6. **Блок «Стимулирующие выплаты»**
   - Ежемесячная стабильная стимулирующая.
   - Ожидаемые премии.
   - Прочие стимулирующие.

7. **Блок «Налоги и удержания»**
   - Ставка НДФЛ.
   - Прочие удержания (алименты и т.п.).

8. **Блок «Итоги»**
   - Грязная зарплата (до удержаний).
   - НДФЛ и прочие удержания.
   - Чистая зарплата к выплате.
   - Доля разовых замен в общей зарплате.
   - Цена 1 часа разовой замены «на руки».
   - Сравнение `O_teacher_contract` vs `O_teacher_calc`.

---

## 4. Поля ввода и бизнес-логика

Все поля должны иметь:

- явный label;
- указанные единицы измерения (часы/нед, руб./месяц, %, руб./час);
- значение по умолчанию (если уместно);
- при необходимости — иконку `?` с текстовой подсказкой.

### 4.1. Общие параметры

| Поле | Описание | Тип | Диапазон | Значение по умолчанию |
|------|----------|-----|----------|------------------------|
| Организация | Название школы (read-only) | text | — | «ГБОУ Школа № 1400» |
| Учебный год | Для подписи, на расчёт не влияет | text/select | — | «2025/2026» |
| Категория работника | Для справки, влияет только на подписи и подсказки | text (read-only) | — | «Иные педагогические работники (логопед/дефектолог)» |
| Стоимость 1 ученико-часа (`C_stu`) | Нормативная стоимость одного ученико-часа | currency | ≥ 0 | **37 ₽** |
| Кол-во учебных недель (`Weeks_year`) | Используется в формуле 3.9 | number | 1–52 | **34** |
| Кол-во месяцев в году (`Months_year`) | Константа | number (read-only) | =12 | **12** |

Подсказка для `C_stu`: откуда берётся (приказ / Положение).

---

### 4.2. Основной оклад логопеда

| Поле | Описание | Тип | Диапазон | Значение по умолчанию |
|------|----------|-----|----------|------------------------|
| Доля ставки логопеда (`S_log`) | Доля полной ставки логопеда | number | 0–1 (шаг 0,25) | **1,0** |
| Оклад логопеда за 1 ставку (`O_logoped_base`) | Должностной оклад логопеда за полную ставку, до вычета НДФЛ (в руб./месяц), как в трудовом договоре/тарификационном списке | currency | > 0 | например, 40 000 ₽ (для текущего кейса, пользователь может заменить на фактический) |

> Важно: это **отдельная** позиция «Учитель-логопед» в тарификационном списке/трудовом договоре.  
> По Положению об оплате труда оклад логопеда относится к категории «иные педагогические работники», устанавливается приказом директора и не может быть ниже МРОТ по г. Москве. Калькулятор это не контролирует, но при заметно меньшем значении может показывать предупреждение пользователю.

---

### 4.3. Учебная нагрузка как учитель (по формуле ученико-часа)

Этот блок описывает **отдельный оклад за учебную нагрузку** (например, 12 ч/нед в 6-р классе), который считается по формуле 3.9 через ученико-час.  
Калькулятор должен поддерживать **несколько строк нагрузки** (по предметам), соответствующих строкам тарификационного листа.

#### 4.3.1. Включение/отключение блока

| Поле | Описание | Тип | Значение по умолчанию |
|------|----------|-----|------------------------|
| Учитывать учебную нагрузку как учитель? (`use_teacher_load`) | Включает/выключает расчёт оклада по ученико-часу | checkbox | включено |

#### 4.3.2. Состав класса (общий для всех предметов данного класса)

| Поле | Описание | Тип | Диапазон | Значение по умолчанию (для 6-р) |
|------|----------|-----|----------|----------------------------------|
| Кол-во обучающихся без инвалидности (`a1`) | Число детей без статуса «ребёнок-инвалид» | integer | ≥ 0 | **4** |
| Кол-во обучающихся-инвалидов без тяжёлых ОДА/зрения (`a2`) | Дети-инвалиды без тяжёлых нарушений ОДА/зрения | integer | ≥ 0 | 0 |
| Кол-во обучающихся-инвалидов с тяжёлыми нарушениями (`a3`) | Дети-инвалиды с тяжёлыми нарушениями (ОДА, слепые и т.п.) | integer | ≥ 0 | 0 |

Подсказка: для текущего кейса 6-р — 4 ребёнка без инвалидности, 0 инвалидов.

#### 4.3.3. Строки нагрузки (по предметам)

Пусть каждая строка нагрузки описывается:

- предметом/видом нагрузки (строковый label);
- количеством часов в неделю (`t_week`);
- коэффициентом деления/малокомплектности (`K_div`);
- предметным коэффициентом (`K_subj`).

Пример для кейса 6-р:

| Поле | Описание | Тип | Диапазон | Значение по умолчанию (пример) |
|------|----------|-----|----------|---------------------------------|
| Предмет/вид нагрузки | Текстовая метка | text | — | «Русский язык (6-р)» |
| Часов в неделю (`t_week`) | Часы в неделю по предмету | number | ≥ 0 | **12** |
| Коэфф. деления / малокомплектности (`K_div`) | Коэффициент с учётом деления/малокомплектности | number | ≥ 1 | рассчитывается/подставляется, напр. 6,25 |
| Предметный коэффициент (`K_subj`) | Повышающий коэфф. по предмету | number | ≥ 1 | напр. 1,1 |

Калькулятор может позволять пользователю:

- либо вводить `K_div`/`K_subj` напрямую (как в «чёрном ящике» логики тарификации),
- либо в будущих версиях — рассчитывать `K_div` автоматически по формуле из Положения (необязательное требование для v5).

Для v5 достаточно:

- поддержать ввод нескольких строк нагрузки;
- суммировать по ним учебную нагрузку и полученный оклад по формуле 3.9.

#### 4.3.4. Оклад по учебной нагрузке

Поля:

| Поле | Описание | Тип | Значение по умолчанию |
|------|----------|-----|------------------------|
| Оклад за учебную нагрузку по договору (`O_teacher_contract`) | Оклад «как учитель» из тарификационного списка/трудового договора | currency | для текущего кейса: **31 869,33 ₽** |
| Оклад за учебную нагрузку по формуле (`O_teacher_calc`) | Расчётный оклад по формуле 3.9 на основе `C_stu`, `Weeks_year`, `Months_year`, состава класса и строк нагрузки | вычисляется | — |

Интерфейс должен явно показывать:

- «Оклад по договору»;
- «Оклад по формуле»;
- «Разница: … ₽ (в плюс/минус)».

---

### 4.4. Разовые (дополнительные) замены

Этот блок описывает **дополнительные замены сверх тарифицированных 12 часов** (например, подмены за других учителей).

Оплата разовых замен может рассчитываться двумя способами:

- по фактической ставке из приказа директора (как обычно делается в школе);
- по упрощённой методике через ученико-час и численность класса (нормативный слой из Положения).

| Поле | Описание | Тип | Диапазон | Значение по умолчанию |
|------|----------|-----|----------|------------------------|
| Учитывать разовые замены? (`use_extra_subst`) | Включает/выключает блок | checkbox | — | **выключено** |
| Часов разовых замен в месяц (`H_sub_extra`) | Сколько часов разовых замен в месяц | number | ≥ 0 | 0 |
| Режим расчёта ставки (`Subst_rate_mode`) | Как считать ставку за 1 час замены | radio | «По приказу школы», «По ученико-часу (упрощённо)» | «По приказу школы» |
| Ставка за 1 час замены по приказу (`R_sub_extra`) | Фиксированная ставка по актуальному приказу директора (например, 350 ₽/час за урок; в кейсе объединения двух классов — 700 ₽/час = 2×350 ₽) | currency | ≥ 0 | 700 ₽ (для кейса с объединением двух классов; можно менять) |
| Кол-во обучающихся в классе для замены (`N_class_subst`) | Фактическое число детей в классе, где происходит замена (используется только в режиме «по ученико-часу») | integer | 1–35 | 10 |
| Тип класса для замены (`Class_type_subst`) | Влияет на расчёт по ученико-часу | radio | «Обычный», «Коррекционный/малокомплектный» | «Коррекционный/малокомплектный» |

Важно:

- по умолчанию этот блок не должен добавлять денег, чтобы не возникало «двойной оплаты» тех же 12 часов;
- в режиме «по ученико-часу» ставка за урок замены считается как `C_stu × N_class_subst`, а для коррекционного/малокомплектного класса — как `C_stu × 25` (коэффициент малокомплектности).

---

### 4.5. Компенсационные выплаты

| Поле | Описание | Тип | Диапазон | Значение по умолчанию |
|------|----------|-----|----------|------------------------|
| Доплата за работу с ОВЗ, % (`K_OVZ`) | Процент доплаты за работу с обучающимися с ОВЗ | percent | 0–20% | 20% (пример; пользователь может выставить фактический) |
| База для расчёта доплаты за ОВЗ (`OVZ_base_mode`) | Что берётся за базу для процента ОВЗ | radio | два варианта | по умолчанию: «только логопедический оклад» |
| Прочие компенсации (`Comp_other`) | Сумма всех прочих компенсаций в месяц | currency | ≥ 0 | 0 ₽ |

Варианты `OVZ_base_mode`:

1. «Логопедический оклад» → база = `Base_logoped`.
2. «Логопедический + учительский оклад» → база = `Base_logoped + O_teacher_contract`.

---

### 4.6. Стимулирующие выплаты

| Поле | Описание | Тип | Диапазон | Значение по умолчанию |
|------|----------|-----|----------|------------------------|
| Ежемесячная стабильная стимулирующая (`Stim_month`) | Стабильная ежемесячная выплата (включая «ежемесячную стимулирующую выплату 2025/2026») | currency | ≥ 0 | 3 000 ₽ (пример; можно 0) |
| Ожидаемые премии за месяц (`Prem_month`) | Среднемесячная оценка премий (квартальные/годовые и т.п.) | currency | ≥ 0 | 0 ₽ |
| Прочие стимулирующие (`Stim_other`) | Другие регулярные стимулирующие доплаты | currency | ≥ 0 | 0 ₽ |

---

### 4.7. Налоги и прочие удержания

| Поле | Описание | Тип | Диапазон | Значение по умолчанию |
|------|----------|-----|----------|------------------------|
| Ставка НДФЛ (`Ndfl_rate`) | Ставка подоходного налога | percent | 0–100% | 13% |
| Прочие удержания (`Withhold_other`) | Алименты, исполнительные листы и т.п. | currency | ≥ 0 | 0 ₽ |

---

## 5. Формулы и расчётные показатели

Обозначения:

- `C_stu` — стоимость ученико-часа.
- `Weeks_year` — учебных недель в году (по умолчанию 34).
- `Months_year` — месяцев в году (12).
- `O_logoped_base` — оклад логопеда за 1 ставку.
- `S_log` — доля ставки логопеда.
- `K_OVZ`, `OVZ_base_mode`, `Comp_other` — параметры компенсаций.
- `Stim_month`, `Prem_month`, `Stim_other` — стимулирующие выплаты.
- `Ndfl_rate`, `Withhold_other` — НДФЛ и прочие удержания.
- `a1`, `a2`, `a3` — числа обучающихся трёх категорий.
- По каждой строке нагрузки: `t_week`, `K_div`, `K_subj`.
- `H_sub_extra`, `R_sub_extra`, `Subst_rate_mode`, `N_class_subst`, `Class_type_subst` — параметры разовых замен.
- `R_sub_current`, `Subst_extra` — расчётная ставка и сумма оплаты за разовые замены.

### 5.1. Оклад логопеда

```text
Base_logoped = O_logoped_base × S_log
````

---

### 5.2. Суммарный коэффициент сложности `K_total`

Общий случай (если есть m коэффициентов `K1…Km`):

```text
K_total = (K1 + K2 + … + Km) − (m − 1)
```

В текущем калькуляторе v5 фактически используем **два коэффициента**:

- `K_div` — коэффициент деления / малокомплектности;
    
- `K_subj` — предметный коэффициент.
    

Поэтому:

```text
K_total = K_div + K_subj − 1
```

---

### 5.3. Тарифная ставка за нагрузку (по формуле 3.9, упрощённо)

Для каждой строки нагрузки:

```text
O_line = C_stu × t_week × Weeks_year / Months_year × K_total
```

Где:

- `C_stu` — стоимость ученико-часа;
    
- `t_week` — часов в неделю по предмету;
    
- `Weeks_year` — учебных недель;
    
- `Months_year` — месяцев в году;
    
- `K_total` — суммарный коэффициент (см. 5.2).
    

Суммарный оклад по учебной нагрузке по формуле:

```text
O_teacher_calc = Σ O_line  (по всем строкам нагрузки)
```

---

### 5.4. Оклад по договору vs по формуле

Пользователь вводит `O_teacher_contract` (из тарификационного списка).  
Калькулятор показывает:

```text
Delta_teacher = O_teacher_calc − O_teacher_contract
```

В интерфейсе:

- «По договору: … ₽»;
    
- «По формуле: … ₽»;
    
- «Разница: … ₽ (в плюс/минус)».
    

---

### 5.5. База для доплаты за ОВЗ

Сначала определяем базу:

```text
OVZ_base =
    если OVZ_base_mode = "логопедический оклад":
        Base_logoped
    если OVZ_base_mode = "логопедический + учительский оклад":
        Base_logoped + O_teacher_contract
```

---

### 5.6. Разовые замены

Если блок `use_extra_subst` выключен или `H_sub_extra = 0`:

```text
Subst_extra = 0
R_sub_current = 0
```

Если блок включён (`use_extra_subst = true`) и `H_sub_extra > 0`, ставка рассчитывается в зависимости от режима:

1. **Режим «по приказу школы»**
    

```text
Если Subst_rate_mode = "по приказу школы":
    R_sub_current = R_sub_extra
```

2. **Режим «по ученико-часу (упрощённо)**
    

```text
Если Subst_rate_mode = "по ученико-часу":
    если Class_type_subst = "коррекционный/малокомплектный":
        R_sub_current = C_stu × 25
    иначе:
        R_sub_current = C_stu × N_class_subst
```

После выбора режима сумма за разовые замены:

```text
Subst_extra = H_sub_extra × R_sub_current
```

Важно:

- 12 часов основной учебной нагрузки уже учтены в `O_teacher_contract`/`O_teacher_calc` и сюда **не попадают**;
    
- режим «по ученико-часу» реализует упрощённую нормативную методику Положения: для коррекционных/малокомплектных классов считается, что коэффициент малокомплектности доводит численность до 25 человек.
    

---

### 5.7. Компенсационные выплаты

Сначала определяем базу для доплаты за ОВЗ:

```text
OVZ_base =
    если OVZ_base_mode = "логопедический оклад":
        Base_logoped
    если OVZ_base_mode = "логопедический + учительский оклад":
        Base_logoped + O_teacher_contract
```

Тогда:

```text
Comp_OVZ = OVZ_base × K_OVZ / 100
Comp_total = Comp_OVZ + Comp_other
```

---

### 5.8. Стимулирующие выплаты

```text
Stim_total = Stim_month + Prem_month + Stim_other
```

---

### 5.9. Общая сумма начислений (до удержаний)

Всю начисленную «грязную» зарплату складываем:

```text
Gross_salary = Base_logoped + O_teacher_contract + Comp_total + Subst_extra + Stim_total
```

Примечание: `O_teacher_calc` используется для сравнения, но **не влияет** на `Gross_salary` (там берём именно `O_teacher_contract` как фактический оклад).

---

### 5.10. Удержания

- НДФЛ:
    

```text
Ndfl_amount = Gross_salary × Ndfl_rate / 100
```

- Прочие удержания: `Withhold_other` (из ввода пользователя).
    
- Всего удержаний:
    

```text
Total_withhold = Ndfl_amount + Withhold_other
```

---

### 5.11. Чистая зарплата и дополнительные показатели

Чистая зарплата к выплате:

```text
Net_salary = Gross_salary − Total_withhold
```

Если `Gross_salary ≤ 0`, интерфейс может показывать Net_salary = 0 и пометку, что результат невалиден.

Дополнительные показатели:

1. **Доля разовых замен в общей зарплате**
    

```text
Share_subst_percent =
    если Gross_salary > 0:
        Subst_extra / Gross_salary × 100
    иначе:
        "—"
```

2. **Цена одного часа разовой замены «на руки»**
    

```text
Subst_hour_net =
    если H_sub_extra > 0:
        (Subst_extra − Subst_extra × Ndfl_rate / 100) / H_sub_extra
    иначе:
        "—"
```

---

## 6. UX, валидация и удобство

- **Mobile-first** дизайн: все блоки должны корректно отображаться на ширине экрана от 360 px.
- Важные суммы (`Base_logoped`, `O_teacher_calc`, `O_teacher_contract`, `Gross_salary`, `Net_salary`) — крупным шрифтом и «рядом» (на одном экране).
- Поля с ошибками ввода подсвечиваются; текст ошибки поясняет, в чём проблема.

Валидация:
- денежные поля ≥ 0;
- проценты 0–100;
- доля ставки 0–1;
- количество часов и обучающихся — числа ≥ 0 (чаще целые);
- при невозможных комбинациях (например, `a1 + a2 + a3 = 0` при ненулевых часах) — предупреждение.

Всплывающие подсказки `?` обязательны для полей:
- `C_stu`;
- `O_logoped_base`;
- блока учебной нагрузки и сравнения `O_teacher_contract` vs `O_teacher_calc`;
- `Subst_rate_mode`, `R_sub_extra`, `N_class_subst`, `Class_type_subst`;
- `K_OVZ`, `OVZ_base_mode`;
- `Stim_month`.
    

---

## 7. Нефункциональные требования

- Локаль `ru-RU` для чисел и валют (разделитель тысяч, пробел перед «₽»).
- Время пересчёта — не более 150 мс на настольных браузерах.
- Адаптивная вёрстка: корректная работа на экранах от 360 px.
- Доступность:
    - навигация с клавиатуры;
    - достаточная контрастность;
    - `aria-label` для интерактивных элементов.
